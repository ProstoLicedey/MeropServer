{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mi200\\\\WebstormProjects\\\\Merops\\\\client\\\\src\\\\components\\\\user\\\\profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Button, Card, DatePicker, Form, Input } from 'antd';\nimport Title from 'antd/es/typography/Title';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../../index';\nimport moment from 'moment';\nimport { USER_ROUTE } from \"../../utils/consts\";\nimport { putUser } from \"../../http/userAPI\"; // Import moment\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    user\n  } = useContext(Context);\n  const [form] = Form.useForm();\n  const [isFormChanged, setIsFormChanged] = useState(false);\n  useEffect(() => {\n    form.setFieldsValue({\n      email: user.userProfile.email || '',\n      name: user.userProfile.name || '',\n      surname: user.userProfile.surname || '',\n      birthday: user.userProfile.birthday ? moment(user.userProfile.birthday) : null\n    });\n    setIsFormChanged(false);\n  }, [user.userProfile, form]);\n  const saveUpdate = () => {\n    form.validateFields().then(async values => {\n      const {\n        name,\n        surname,\n        email,\n        birthday\n      } = values;\n      await putUser(user.userProfile.id, {\n        name: name,\n        surname: surname,\n        email: email,\n        birthday: birthday.format('YYYY-MM-DD') // Format the date as needed\n      });\n    }).catch(errorInfo => {\n      console.log('Validation failed:', errorInfo);\n    });\n  };\n  const onFinish = values => {\n    // Handle form submission\n    console.log('Received values:', values);\n    // Add your logic to update the user profile here\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: 30,\n      minWidth: 300\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      bordered: false,\n      style: {\n        padding: 30\n      },\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        children: \"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"email\",\n          rules: [{\n            message: 'почта не корректна',\n            required: true,\n            type: 'email'\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            disabled: true,\n            size: 'large',\n            placeholder: \"\\u041F\\u043E\\u0447\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"name\",\n          rules: [{\n            message: 'не корректно',\n            required: false\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            size: 'large',\n            placeholder: \"\\u0418\\u043C\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"surname\",\n          rules: [{\n            message: 'введите фамилию',\n            required: false\n          }],\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            size: 'large',\n            placeholder: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"birthday\",\n          rules: [{\n            message: 'введите дату',\n            type: 'date',\n            required: false\n          }],\n          children: /*#__PURE__*/_jsxDEV(DatePicker, {\n            size: 'large',\n            placeholder: \"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          style: {\n            textAlign: 'right'\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            style: {\n              width: 200,\n              height: 40,\n              fontSize: 16,\n              backgroundColor: '#722ed1'\n            },\n            onClick: saveUpdate,\n            disabled: !isFormChanged,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"9UxA1+Eeuevtz5LIK3rjCgK/eb0=\", false, function () {\n  return [Form.useForm];\n});\n_c = Profile;\nexport default _c2 = observer(Profile);\nvar _c, _c2;\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Button","Card","DatePicker","Form","Input","Title","observer","Context","moment","USER_ROUTE","putUser","jsxDEV","_jsxDEV","Profile","_s","user","form","useForm","isFormChanged","setIsFormChanged","setFieldsValue","email","userProfile","name","surname","birthday","saveUpdate","validateFields","then","values","id","format","catch","errorInfo","console","log","onFinish","style","margin","minWidth","children","bordered","padding","level","fileName","_jsxFileName","lineNumber","columnNumber","Item","rules","message","required","type","disabled","size","placeholder","textAlign","htmlType","width","height","fontSize","backgroundColor","onClick","_c","_c2","$RefreshReg$"],"sources":["C:/Users/mi200/WebstormProjects/Merops/client/src/components/user/profile.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Card, DatePicker, Form, Input } from 'antd';\r\nimport Title from 'antd/es/typography/Title';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { Context } from '../../index';\r\nimport moment from 'moment';\r\nimport {USER_ROUTE} from \"../../utils/consts\";\r\nimport {putUser} from \"../../http/userAPI\"; // Import moment\r\n\r\nconst Profile = () => {\r\n    const { user } = useContext(Context);\r\n    const [form] = Form.useForm();\r\n    const [isFormChanged, setIsFormChanged] = useState(false);\r\n\r\n    useEffect(() => {\r\n        form.setFieldsValue({\r\n            email: user.userProfile.email || '',\r\n            name: user.userProfile.name || '',\r\n            surname: user.userProfile.surname || '',\r\n            birthday: user.userProfile.birthday ? moment(user.userProfile.birthday) : null,\r\n        });\r\n        setIsFormChanged(false);\r\n    }, [user.userProfile, form]);\r\n\r\n    const saveUpdate = () => {\r\n        form\r\n            .validateFields()\r\n            .then(async (values) => {\r\n                const { name, surname, email, birthday } = values;\r\n\r\n\r\n                await putUser(user.userProfile.id, {\r\n                    name: name,\r\n                    surname: surname,\r\n                    email: email,\r\n                    birthday: birthday.format('YYYY-MM-DD'), // Format the date as needed\r\n                });\r\n\r\n\r\n\r\n            })\r\n            .catch((errorInfo) => {\r\n                console.log('Validation failed:', errorInfo);\r\n            });\r\n\r\n    };\r\n\r\n    const onFinish = (values) => {\r\n        // Handle form submission\r\n        console.log('Received values:', values);\r\n        // Add your logic to update the user profile here\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: 30, minWidth: 300 }}>\r\n            <Card bordered={false} style={{ padding: 30 }}>\r\n                <Title level={2}>Контактные данные</Title>\r\n                <Form form={form} onFinish={onFinish}>\r\n                    <Form.Item\r\n                        name=\"email\"\r\n                        rules={[\r\n                            {\r\n                                message: 'почта не корректна',\r\n                                required: true,\r\n                                type: 'email',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input disabled size={'large'} placeholder=\"Почта\" />\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        name=\"name\"\r\n                        rules={[\r\n                            {\r\n                                message: 'не корректно',\r\n                                required: false,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input size={'large'} placeholder=\"Имя\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"surname\"\r\n                        rules={[\r\n                            {\r\n                                message: 'введите фамилию',\r\n                                required: false,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input size={'large'} placeholder=\"Фамилия\" />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"birthday\"\r\n                        rules={[\r\n                            {\r\n                                message: 'введите дату',\r\n                                type: 'date',\r\n                                required: false,\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <DatePicker size={'large'} placeholder=\"Дата рождения\" />\r\n                    </Form.Item>\r\n                    <Form.Item style={{ textAlign: 'right' }}>\r\n                        <Button\r\n                            type=\"primary\"\r\n                            htmlType=\"submit\"\r\n                            style={{ width: 200, height: 40, fontSize: 16, backgroundColor: '#722ed1' }}\r\n                            onClick={saveUpdate}\r\n                            disabled={!isFormChanged}\r\n                        >\r\n                            Сохранить изменения\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default observer(Profile);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}